(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){e.exports=n(56)},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a,i=n(0),c=n.n(i),r=n(32),o=n.n(r),l=n(59),s=n(60),u=n(2),d=n(3),m=n(5),p=n(4),h=n(6),f=n(61),E=n(12),v=n(11),b=function(e,t){return t.length>0?c.a.createElement("button",{className:"add-to-playlist-button",onClick:e},"Add to playlist"):c.a.createElement("button",{className:"add-to-playlist-button",disabled:!0,onClick:e},"Add to playlist")},y=function(e){var t=e.onClick,n=e.title,a=e.imageURL,i=e.videoId,r=e.addToPlaylistAction,o=e.accessToken;return c.a.createElement("div",{key:i},c.a.createElement("li",{onClick:t,className:"list-group-item"},c.a.createElement("div",{className:"video-list"},c.a.createElement("div",{className:"media-left"},c.a.createElement("img",{src:a,alt:n,className:"media-object"})),c.a.createElement("div",{className:"media-body"},c.a.createElement("div",{className:"media-heading"},n)),c.a.createElement("div",null,b(r,o)))))},O=function(e){return{type:"VIDEO_ITEM_CLICKED",videoId:e.videoId,description:e.description,title:e.title}},g=n(22),C=n.n(g),j=function e(t,n,a,i,c,r,o,l){Object(u.a)(this,e),this.channelId=t,this.channelTitle=n,this.description=a,this.publishedAt=i,this.title=c,this.imageURL=r,this.videoId=o,this.playlistElementId=l},w=function(e){return function(t,n){fetch("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId="+e.id,{method:"GET",headers:new Headers({Authorization:"Bearer "+encodeURIComponent(n().authReducer.accessToken)})}).then(function(e){return e.json()}).then(function(n){t({type:"FETCH_PLAYLIST_SUCCESS",currentPlaylist:e}),t({type:"FETCH_VIDEOS_SUCCESS",videoList:function(e){var t=[];return e.forEach(function(e){var n=e.snippet,a=new j(n.channelId,n.channelTitle,n.description,n.publishedAt,n.title,n.thumbnails.high.url,n.resourceId.videoId,e.id);t.push(a)}),t}(n.items)})})}},T=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"renderFull",value:function(){var e=this.props,t=e.title,n=e.description,a=e.handleCloseVideo;return c.a.createElement("div",{className:"modal",onClick:function(){return a()}},c.a.createElement("div",{className:"video-container"},c.a.createElement("div",{className:"embed"},c.a.createElement("iframe",{className:"embed-item video-window",src:this.url,title:"video",allowFullScreen:!0,frameBorder:"0"})),c.a.createElement("div",{className:"details"},c.a.createElement("div",null,t),c.a.createElement("div",null,n.slice(0,200)))))}},{key:"isNotVideoChosen",value:function(e){return!e}},{key:"isPlaylistChosen",value:function(e,t){return""!==e&&t}},{key:"render",value:function(){var e=this.props,t=e.videoId,n=e.showVideo,a=e.playlistId;return this.isPlaylistChosen(a,n)?(this.url="http://www.youtube.com/embed?listType=playlist&list=".concat(a),this.renderFull()):this.isNotVideoChosen(n)?null:(this.url="https://www.youtube.com/embed/".concat(t),this.renderFull())}}]),t}(i.Component),S=T=Object(v.b)(function(e){return{videoId:e.videoReducer.videoId,title:e.videoReducer.title,description:e.videoReducer.description,showVideo:e.videoReducer.showVideo,isLoggedIn:e.authReducer.accessToken,playlistId:e.videoReducer.playlistId}},function(e){return{handleCloseVideo:function(){return e({type:"VIDEO_CLOSED"})}}})(T),I=n(36),k=(a=S,function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"isVideoLoads",value:function(e,t){return!e&&t}},{key:"render",value:function(){var e=this.props,t=e.videoId,n=e.showVideo,i=Object(I.a)(e,["videoId","showVideo"]);return this.isVideoLoads(t,n)?c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"video-container"},c.a.createElement("p",null,"Loading..."))):c.a.createElement(a,i)}}]),t}(i.Component)),L=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"renderItemsList",value:function(){var e=this.props,t=e.items,n=e.handleOpenVideo,a=e.handleAddToPlaylist,i=e.accessToken;return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,t.map(function(e){return c.a.createElement(y,Object.assign({key:e.videoId},e,{accessToken:i,onClick:function(){return n(e)},addToPlaylistAction:function(t){t.stopPropagation(),a(e)}}))})),c.a.createElement(k,null))}},{key:"render",value:function(){return c.a.createElement("div",null,this.renderItemsList())}}]),t}(i.Component),N=L=Object(v.b)(function(e){return{items:e.searchReducer.items,accessToken:e.authReducer.accessToken}},function(e){return{handleOpenVideo:function(t){console.log(t),e(O(t))},handleAddToPlaylist:function(t){e(function(e){return function(t,n){var a=n().playlistReducer.currentPlaylist;fetch("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet",{method:"POST",headers:new Headers({Authorization:"Bearer "+encodeURIComponent(n().authReducer.accessToken),Accept:"application/json, text/plain, */*","Content-Type":"application/json"}),body:C.a.stringify({snippet:{playlistId:a.id,resourceId:{kind:"youtube#video",videoId:e.videoId}}})}).then(function(e){t(w(a))})}}(t))}}})(L),A=n(23),R=function e(t,n,a,i,c){Object(u.a)(this,e),this.id=t,this.title=n,this.description=a,this.etag=i,this.publishedAt=c},_=function(e){return function(t,n){var a="search?part=snippet&q=".concat(e,"&maxResults=10&type=video&key=").concat("AIzaSyBYOluBSrsLsqs0xGpRPueAUsOujDYdECc");t(function(e){return{type:"FETCH_RESULTS_BEGIN",searchCriteria:e}}(e)),fetch("https://www.googleapis.com/youtube/v3/"+a,{method:"GET"}).then(function(e){return e.json()}).then(function(e){var a=function(e){var t=[];return e.forEach(function(e){var n=e.snippet,a=new j(n.channelId,n.channelTitle,n.description,n.publishedAt,n.title,n.thumbnails.default.url,e.id.videoId);t.push(a)}),t}(e.items);t({type:"FETCH_RESULTS_SUCCESS",items:a}),console.log("items are",n().searchReducer.items)})}},D=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.searchCriteria;return console.log("search ",n),c.a.createElement("div",null,c.a.createElement("form",Object(A.a)({className:"search-bar",onSubmit:function(e){e.preventDefault(),t(e),e.target.querySelector("input").value=""}},"className","form-container"),c.a.createElement("input",{className:"search-input",type:"text",placeholder:"Search"}),c.a.createElement("input",{className:"button-submit",type:"submit",value:"Search"})))}}]),t}(i.Component),U=D=Object(v.b)(function(e){return{searchCriteria:e.searchReducer.searchCriteria,items:e.searchReducer.items}},function(e){return{onSubmit:function(t){return e(_(t.target.querySelector("input").value))}}})(D),P=n(24),G=n.n(P),H=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).clickHandler=function(){n.props.actionOnLogout()},n.container=n.props.container,n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(P.GoogleLogout,{buttonText:"Logout",onLogoutSuccess:this.clickHandler}))}}]),t}(i.Component),V="https://www.googleapis.com/youtube/v3/",F=function(){return function(e,t){fetch(V+"playlists?part=snippet&mine=true",{method:"GET",headers:new Headers({Authorization:"Bearer "+encodeURIComponent(t().authReducer.accessToken)})}).then(function(e){return e.json()}).then(function(n){var a=function(e){var t=[];return e.forEach(function(e){var n=new R(e.id,e.snippet.title,e.snippet.description,e.etag,e.snippet.publishedAt);t.push(n)}),t}(n.items);""===t().playlistReducer.currentPlaylist&&e(w(a[0])),e(function(e){return{type:"FETCH_CATALOGS_SUCCESS",catalogList:e}}(a))})}},W=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.handleUserLogin,a=t.handleLoginFailure,i=t.handleUserLogout,r=t.message;return e=0===t.accessToken.length?c.a.createElement(G.a,{id:"sign-in-button",clientId:"549983921860-7ctt7f0r7777vuir9e1pe3bj7p1siea6.apps.googleusercontent.com",buttonText:"Sign In",scope:"https://www.googleapis.com/auth/youtube",onSuccess:n,onFailure:a}):c.a.createElement(H,{actionOnLogout:i}),c.a.createElement("div",{className:"sign-in-window"},c.a.createElement("div",{id:"sign-in-container"},e,c.a.createElement("div",{id:"sign-in-message"},r)))}}]),t}(i.Component),B=W=Object(v.b)(function(e){return{accessToken:e.authReducer.accessToken,message:e.authReducer.message}},function(e){return{handleUserLogin:function(t){e({type:"USER_LOGGED_IN",message:"",accessToken:t.accessToken,redirect:"/log"}),e(F())},handleLoginFailure:function(){return e({type:"USER_NOT_LOGGED_IN",message:"Ops! Wrong Login or Password"})},handleUserLogout:function(){return e({type:"USER_LOGGED_OUT",accessToken:"",message:"",redirect:"/"})}}})(W),x=(n(19),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"header-container"},c.a.createElement("div",{className:"search-bar-container"},c.a.createElement(U,null)),c.a.createElement("div",{className:"button-container"},c.a.createElement(B,null)))}}]),t}(i.Component)),Y=(n(31),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.redirect,t="";return window.location.pathname!==e&&(t=c.a.createElement(f.a,{to:e})),c.a.createElement("div",{id:"container"},t,c.a.createElement(x,null),c.a.createElement("div",{id:"main-container"},c.a.createElement("div",{id:"video-list-container"},c.a.createElement(N,null))))}}]),t}(i.Component)),z=Y=Object(E.a)(function(e){return{redirect:e.authReducer.redirect}})(Y),q=n(15),K=n(7),J={accessToken:"",message:"",redirect:"/"},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGGED_IN":return Object(K.a)({},e,{message:t.message,accessToken:t.accessToken,redirect:t.redirect});case"USER_REDIRECTED":return Object(K.a)({},e,{redirect:t.redirect});case"USER_NOT_LOGGED_IN":return Object(K.a)({},e,{message:t.message});case"USER_LOGGED_OUT":return Object(K.a)({},e,{message:t.message,accessToken:t.accessToken,redirect:t.redirect});default:return e}},Q={items:[],loading:!1,error:null,searchCriteria:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RESULTS_BEGIN":return Object(K.a)({},e,{loading:!0,error:null,searchCriteria:t.searchCriteria});case"FETCH_RESULTS_SUCCESS":return Object(K.a)({},e,{loading:!1,items:e.items.slice(0,0).concat(t.items)});case"FETCH_RESULTS_ERROR":return Object(K.a)({},e,{loading:!1,error:t.error,items:[]});default:return e}},Z={catalogList:[],showAddNewCatalogWindow:!1},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATALOGS_SUCCESS":return Object(K.a)({},e,{catalogList:t.catalogList});case"SHOW_ADD_NEW_CATALOG":return Object(K.a)({},e,{showAddNewCatalogWindow:t.showAddNewCatalogWindow});default:return e}},ee={currentPlaylist:"",videoList:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYLIST_SUCCESS":return Object(K.a)({},e,{currentPlaylist:t.currentPlaylist});case"FETCH_VIDEOS_SUCCESS":return Object(K.a)({},e,{videoList:t.videoList});default:return e}},ne={videoId:null,description:"",title:"",showVideo:!1,playlistId:""},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIDEO_ITEM_CLICKED":return Object(K.a)({},e,{videoId:t.videoId,description:t.description,title:t.title,showVideo:!0});case"VIDEO_CLOSED":return Object(K.a)({},e,{showVideo:!1,title:"",description:"",playlistId:"",videoId:null});case"PLAYLIST_PLAYBACK_CHOSEN":return Object(K.a)({},e,{showVideo:!0,description:t.description,title:t.title,playlistId:t.playlistId});default:return e}},ie=Object(q.c)({authReducer:M,catalogReducer:$,searchReducer:X,videoReducer:ae,playlistReducer:te}),ce=n(35),re=(n(50),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.accessToken,a=t.catalogList,i=t.handleActionAddNew,r=t.handleDeleteCatalog,o=t.handleDisplayPlaylist;n.length>0&&(e=c.a.createElement("div",{id:"add-new",onClick:i},"Add new"));var l=c.a.createElement(c.a.Fragment,null,a.map(function(e,t){return function(e,t,n,a){return c.a.createElement("div",{className:"catalog-component",key:t},c.a.createElement("div",{className:"catalog-name",onClick:function(){o(e)}},a),c.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){r(n)}}))}(e,t,e.id,e.title)}));return c.a.createElement("div",{className:"catalog-scroll"},c.a.createElement("div",{id:"catalog-container"},l,e))}}]),t}(i.Component)),oe=re=Object(E.a)(function(e){return{accessToken:e.authReducer.accessToken,catalogList:e.catalogReducer.catalogList}},function(e){return{handleDisplayCatalogs:function(){return e(F())},handleActionAddNew:function(){return e({type:"SHOW_ADD_NEW_CATALOG",showAddNewCatalogWindow:!0})},handleDeleteCatalog:function(t){e(function(e){return function(t,n){fetch(V+"playlists?id="+e,{method:"DELETE",headers:new Headers({Authorization:"Bearer "+encodeURIComponent(n().authReducer.accessToken)})}).then(function(e){t(F())})}}(t))},handleDisplayPlaylist:function(t){e(w(t))}}})(re),le=(n(52),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showAddNewCatalogWindow,n=e.handleAddCatalog,a=e.handleClickUnselected;return t?c.a.createElement("div",{className:"modal-window",onClick:function(e){a(e)}},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(e)}},c.a.createElement("div",{className:"modal-catalog-container"},c.a.createElement("div",{className:"title-label"},"Title:"),c.a.createElement("input",{type:"text",id:"title-input"}),c.a.createElement("div",{className:"description-label"},"Description:"),c.a.createElement("input",{type:"text",id:"description-input"}),c.a.createElement("input",{type:"submit",className:"button-add",value:"Add"})))):c.a.createElement("div",null)}}]),t}(i.Component)),se=le=Object(E.a)(function(e){return{showAddNewCatalogWindow:e.catalogReducer.showAddNewCatalogWindow}},function(e){return{handleAddCatalog:function(t){var n=t.target.querySelectorAll("input").item(0).value,a=t.target.querySelectorAll("input").item(1).value;e(function(e,t){return function(n,a){fetch(V+"playlists?part=snippet",{method:"POST",headers:new Headers({Authorization:"Bearer "+encodeURIComponent(a().authReducer.accessToken),Accept:"application/json, text/plain, */*","Content-Type":"application/json"}),body:C.a.stringify({snippet:{title:e,description:t}})}).then(function(e){return e.json()}).then(function(){n({type:"SHOW_ADD_NEW_CATALOG",showAddNewCatalogWindow:!1}),n(F())})}}(n,a))},handleClickUnselected:function(t){"modal-window"===t.target.className&&e({type:"SHOW_ADD_NEW_CATALOG",showAddNewCatalogWindow:!1})}}})(le),ue=(n(54),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentPlaylist,n=e.videoList,a=e.handleDeletePlaylistItem,i=e.handlePlayVideo,r=e.handlePlayPlaylist,o=c.a.createElement(c.a.Fragment,null,n.map(function(e,n){return function(e,n){var r=e.title,o=e.imageURL,l=e.playlistElementId;return c.a.createElement("div",{className:"playlist-element-component",key:n},c.a.createElement("img",{src:o,alt:r,className:"video-picture"}),c.a.createElement("div",{className:"video-name"}," ",r),c.a.createElement("div",{className:"video-buttons"},c.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){a(l,t)}}),c.a.createElement("i",{className:"fas fa-play",id:"play-button",onClick:function(){i(e)}})))}(e,n)}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"playlist-option"},c.a.createElement("div",{className:"playlist-name"},t.title),c.a.createElement("i",{className:"fas fa-play",id:"play-button",onClick:function(){return r(t)}})),c.a.createElement("div",{id:"playlist-scroll"},c.a.createElement("div",{id:"playlist-container"},o)))}}]),t}(i.Component)),de=ue=Object(E.a)(function(e){return{accessToken:e.authReducer.accessToken,videoList:e.playlistReducer.videoList,currentPlaylist:e.playlistReducer.currentPlaylist}},function(e){return{handleDeletePlaylistItem:function(t,n){return e(function(e,t){return function(n,a){fetch("https://www.googleapis.com/youtube/v3/playlistItems?id="+e,{method:"DELETE",headers:new Headers({Authorization:"Bearer "+encodeURIComponent(a().authReducer.accessToken)})}).then(function(){n(w(t))})}}(t,n))},handlePlayVideo:function(t){return e(O(t))},handlePlayPlaylist:function(t){return e(function(e){return{type:"PLAYLIST_PLAYBACK_CHOSEN",playlistId:e.id,description:e.description,title:e.title}}(t))}}})(ue),me=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.redirect,t="";return window.location.pathname!==e&&(t=c.a.createElement(f.a,{to:e})),c.a.createElement("div",{id:"container"},t,c.a.createElement(x,null),c.a.createElement("div",{id:"main-container"},c.a.createElement("div",{id:"video-list-container"},c.a.createElement(N,null)),c.a.createElement(oe,null),c.a.createElement(de,null),c.a.createElement(se,null)))}}]),t}(i.Component),pe=me=Object(v.b)(function(e){return{redirect:e.authReducer.redirect}})(me),he=n(58),fe=Object(q.d)(ie,Object(q.a)(ce.a));o.a.render(c.a.createElement(v.a,{store:fe},c.a.createElement(l.a,null,c.a.createElement(he.a,null,c.a.createElement(s.a,{exact:!0,path:"/",component:z}),c.a.createElement(s.a,{exact:!0,path:"/log",component:pe})))),document.getElementById("root"))}},[[37,2,1]]]);
//# sourceMappingURL=main.eb3fd251.chunk.js.map